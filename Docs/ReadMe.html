<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!--
 * Copyright (C) 2005-2012 Peter Johnson (www.delphidabbler.com)
 *
 * This document may be re-distributed or re-published only with the
 * DelphiDabbler PasHi Pascal Highlighter program available from
 * http://www.delphidabbler.com/software/pash
 *
 * The document may be modified only if distributed with a modified version
 * DelphiDabbler PasHi Pascal Highlighter. Modified version must retain this
 * copyright message and the author and copyright meta tags.
 *
 * $Rev$
 * $Date$
-->

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>

  <title>
    DelphiDabbler || PasHi Pascal Highlighter
  </title>

  <meta
    http-equiv="Content-Type"
    content="text/html; charset=Windows-1252"
  />
  <meta
    http-equiv="Content-Language"
    content="en"
  />
  <meta
    name="author"
    content="Peter Johnson (www.delphidabbler.com)"
  />
  <meta
    name="copyright"
    content="(C) 2005-2012 Peter Johnson (www.delphidabbler.com)"
  />
  <meta
    name="description"
    content="Readme for DelphiDabbler PasHi Pascal Highlighter"
  />

  <style type="text/css">
    body {
      margin: 1em;
      padding: 0;
      font-family: Verdana, Arial, sans-serif;
      font-size: 9pt;
      line-height: 150%;
    }
    table {
      font-size: 9pt;
      margin: 0.5em 0 0 0;
      padding: 0;
    }
    h1 {
      margin: 0 0 1em 0;
      padding: 0.5em;
      border: 1px silver solid;
      background-color: #eee;
      font-size: 13pt;
      font-weight: bold;
      text-align: center;
    }
    h1 .subtitle {
      font-style: italic;
      color: #336;
    }
    h2 {
      margin: 1em 0 0 0;
      padding: 0;
      padding-bottom: 6px;
      border-bottom: 1px silver solid;
      font-size: 11pt;
      font-weight: bold;
    }
    h3 {
      margin: 0.5em 0 0 0;
      padding: 0;
      font-size: 9pt;
      font-weight: bold;
    }
    p {
      margin: 0.5em 0 0 0;
      padding: 0;
    }
    pre,
    code,
    .switch,
    .css {
      font-family: "Courier New", Courier, monospace;
    }

    pre {
      margin: 0.5em 0 0 0;
      padding: 0;
    }
    pre.block {
      background-color: #eef;
      border: 1px #ccd solid;
      padding: 0.5em;
    }
    ul, ol {
      margin: 0.5em 0 0 3em;
      padding: 0;
    }
    ul {
      list-style-type: square;
    }
    ul.squashed,
    ol.squashed {
      margin-top: 0;
    }
    ul.spaced li,
    ol.spaced li {
      margin-top: 0.5em;
    }
    ul.spaced li,
    ol.spaced li,
    dl.spaced dt {
      margin-top: 0.5em;
    }
    ul.squashed li,
    ol.squashed li,
    ul.unspaced li,
    ol.unspaced li {
      margin-top: 0;
    }
    ul.unspaced li.first,
    ol.unspaced li.first {
      margin-top: 0.5em;
    }
    code {
      font-family: "Courier New", Courier, monospace;
    }
    a:link {
      color: #336;
      text-decoration: underline;
    }
    a:visited {
      color: #669;
      text-decoration: underline;
    }
    a:active {
      color: #336;
      text-decoration: underline;
    }
    a:hover {
      text-decoration: underline;
    }
    .gototop {
      margin: 1em 0 0 0;
      padding: 0.3em 0 0 0;
      text-align: center;
      position: relative;
      float: right;
      font-weight: bold;
    }
    .pullout {
      border-left: 8px silver solid;
      xborder-bottom: 2px silver solid;
      xborder-top: 2px silver solid;
      background-color: #eee;
      margin: 0.5em 0 0 0;
      padding: 0.25em 0.5em;
      font-style: italic;
    }
    .indent {
      margin-left: 3em;
    }
    .hilite {
      color: #336;
      font-style: italic;
      font-weight: bold;
    }
    .endnotes {
      margin: 1.5em 0 0 0;
      padding: 1em 0 0 0;
      border-top: 1px silver solid;
    }
    .comments {
      font-style: italic;
    }
    .copyright,
    .copyright a:link,
    .copyright a:visited,
    .copyright a:active {
      margin: 1em 0 0 0;
      color: gray;
      font-size: 8pt;
      text-align: right;
    }
    .switch {
      font-family: "Courier New", Courier, monospace;
    }
    .smallcaps {
      font-variant: small-caps;
    }
    td.pad-left, th.pad-left {
      padding-left: 2em;
    }
    th.left-align {
      text-align: left;
    }
    table {
      margins: 0;
      padding: 0;
    }
    td {
      vertical-align: top;
    }
    th {
      vertical-align: middle;
    }
    td, th {
      border: 1px silver solid;
      padding: 2px 6px;
    }
  </style>

</head>

<body>

<h1>
  <div><em>PasHi</em> Pascal Highlighter</div>
  <div class="subtitle">Read Me Document</div>
</h1>

<h2 id="contents">
  Contents
</h2>

<ul>
  <li>
    <a href="#introduction">Introduction</a>
  </li>
  <li>
    <a href="#why">Why another Pascal highlighter?</a>
  </li>
  <li>
    <a href="#install">Installing <em>PasHi</em></a>
  </li>
  <li>
    <a href="#usage">Using <em>PasHi</em></a>
  </li>
  <li>
    <a href="#config">Configuring <em>PasHi</em></a>
  </li>
  <li>
    <a href="#css">CSS styles used by <em>PasHi</em></a>
  </li>
  <li>
    <a href="#pashigui">Using <em>PasHiGUI</em></a>
  </li>
  <li>
    <a href="#bugs">Bugs &amp; Feature Requests</em>
  </li>
  <li>
    <a href="#source">Source code</a>
  </li>
</ul>

<p class="gototop">
  &raquo; <a href="#contents">Contents</a>
</p>

<h2 id="introduction">
  Introduction
</h2>

<p>
  <em>PasHi</em> is a simple command line program that highlights Pascal
  source code. It reads the original source code from standard input or the
  clipboard and writes the highlighted code to standard output or the
  clipboard. XHTML is used for the highlighted code and cascading style sheets
  are used to do the styling.
</p>

<p>
  <em>PasHi</em> can either generate complete XHTML documents or just
  fragments of XHTML code containing the highlighted source. Complete XHTML
  documents contain an embedded CSS style sheet while code fragments require
  the user to provide the required CSS classes. This last feature makes it
  easy to embed code highlighted by <em>PasHi</em> into exiting web pages with
  highlight colours defined by the web page author.
</p>

<p>
  A beta version of <em>PasHiGUI</em>, a GUI front end for <em>PasHi</em>, is
  included in the release.
</p>

<p>
  Up until and including v1.0.0, <em>PasHi</em> was known as <em>PasH</em>.
</p>

<p class="gototop">
  &raquo; <a href="#contents">Contents</a>
</p>

<h2 id="why">
  Why another Pascal highlighter?
</h2>

<p>
  Simple, I wanted an easy to use tool to format Pascal code for the
  <a
    href="http://www.delphidabbler.com/"
  >DelphiDabbler website</a>. I wanted the following:
</p>

<ol>
  <li>
    Cascading style sheets.
  </li>
  <li>
    Valid XHTML.
  </li>
  <li>
    Full control over the appearance of the output code.
  </li>
  <li>
    Ability to highlight via the clipboard.
  </li>
  <li>
    The option to generate XHTML fragments for inserting into existing
    documents.
  </li>
</ol>

<p>
  On checking the available free tools I've found they were either too complex
  or didn't provide one of the features I wanted. I'd already written
  highlighter code for my <em>CodeSnip</em> program, so I extracted that,
  tweaked it and wrapped it up in a command line program. Having made it I
  thought I'd release it in case anyone else finds it useful.
</p>

<p>
  Check these two sites for examples of <em>PasHi</em> in use:
  <a
    href="http://rvelthuis.de/"
  >Rudy's Delphi Corner</a> and
  <a
    href="http://hallvards.blogspot.com/"
  >Hallvard's Blog</a>. PasHi has also been used to highlight example source
  code on the DelphiDabbler
  <a
    href="http://www.delphidabbler.com/tips"
  >Delphi Tips</a> and
  <a
    href="http://www.delphidabbler.com/articles"
  >Articles</a> pages.
</p>

<p class="gototop">
  &raquo; <a href="#contents">Contents</a>
</p>

<h2 id="install">
  Installation
</h2>

<p>
  <em>PasHi</em>'s simplicity means it that has no dependencies and creates no
  config files or registry entries. So, I haven't provided an installer, just
  a zip file containing a few files. They are:
</p>

<ul class="spaced">
  <li>
    <code>PasHi.exe</code><br />
    This is the program's executable file. Just copy it to a directory of
    your choice. Then open a command console and run <em>PasHi</em>. See
    <a
      href="#usage">Using <em>PasHi</em></a> below for details of
    <em>PasHi</em>'s command line switches. You'll find <em>PasHi</em>
    more usable if you place it somewhere on your path or if you add
    <em>PasHi</em>'s directory to the path.
  </li>
  <li>
    <code>PasHiGUI</code><br />
    The GUI front end for <em>PasHi</em>. If you want to use this program
    just copy it to the <strong>same directory</strong> as <em>PasHi</em>.
  </li>
  <li>
    <code>License.txt</code><br />
    Contains the program's license. Please read this and only use
    <em>PasHi</em> (and <em>PasHiGUI</em> if you agree with it. OK, given
    that you probably won't read I'll tell you now it's a pretty permissive
    open source license. You can use and distribute <em>PasHi</em> freely
    and get the source code and modify it. If you release your changes there
    are two conditions: (1) you must make source code available (most code is
    covered by the
    <a
      href="http://www.mozilla.org/MPL/2.0/"
    >Mozilla Public License v2.0</a>) and (2) you must delete the program icons
    or use your own.
  </li>
  <li>
    <code>ReadMe.html</code><br />
    This file. Nuff said.
  </li>
</ul>

<p>
  To uninstall, just delete <code>Pashi.exe</code> and
  <code>PasHiGUI.exe</code>. Neither program makes any changes to your system.
</p>

<p class="gototop">
  &raquo; <a href="#contents">Contents</a>
</p>

<h2 id="usage">
  Using <em>PasHi</em>
</h2>

<p>
  By default <em>PashHi</em> reads input from standard input and writes
  highlighted output to standard output. You can process a single file and write
  output to another file using shell redirection. For example, to highlight
  <code>source.pas</code> and output to <code>source.html</code> use:
</p>

<pre class="indent">PasHi &lt;source.pas &gt;source.html</pre>

<p class="pullout">
  Note that if you do not redirect output the resulting HTML is displayed on the
  console. If you don't redirect input then you must enter the source code
  manually on the command line, a line at a time. When you have finished you
  must signal end-of-file by pressing <span class="smallcaps">Ctrl+Z</span> on a
  line on its own, followed by <span class="smallcaps">Return</span>.
</p>

<p>
  <em>PashHi</em>'s behaviour can be modified by specifying one or more file
  names and command on the command line. File names and commands can be
  intermixed.
</p>

<p>
  If one or more file names are entered on the command line then input is taken
  from the files. Source code is read from each named file in turn and
  concatenated before being highlighted. Standard input is ignored. Specifying
  one file name has the same effect as redirecting standard input from that
  file.
</p>

<p class="pullout">
  If you specify file names on the command line you should not also use the
  <code>--input-stdin</code> or <code>--input-clipboard</code> commands. No
  error will be reported if you do so, but the behaviour is not defined and may
  not be as expected.
</p>

<p>
  Most commands have both a long and a short form, although some commands have a
  long form only. All are explained in the following table.
</p>

<table>
  <colgroup style="width:14em;"></colgroup>
  <tr>
    <th colspan="2">Command</th>
    <th rowspan="2">Description</th>
  </tr>
  <tr>
    <th>
      Long form<!--<sup><span style="font-size:smaller;">&dagger;</span></sup>-->
    </th>
    <th>
      Short form
    </th>
  <tr>
  <tr>
    <td class="switch">--input-stdin</td>
    <td class="switch">&nbsp;</td>
    <td>
      Reads source code from standard input. Since standard input is the default
      input source, this command is provided mainly to restore the default
      behaviour if it has been overridden in the config file. This command
      should not be combined with <code>--input-clipboard</code> or if file
      names are specified on the command line.
    </td>
  </tr>
  <tr>
    <td class="switch">--input-clipboard</td>
    <td class="switch">-r</td>
    <td>
      Reads source code in Unicode from the clipboard. This command should not
      be combined with <code>--input-stdin</code> or if file names are specified
      on the command line.
    </td>
  </tr>
  <tr>
    <td class="switch">--output-stdout</td>
    <td class="switch">&nbsp;</td>
    <td>
      Writes highlighted code to standard output. Since standard output is the
      default output destination, this command is provided mainly to restore the
      default behaviour if it has been overridden in the config file. This
      command should not be combined with either <code>--output-file</code> or
      <code>--output-clipboard</code>.
    </td>
  </tr>
  <tr>
    <td class="switch">--output-file</td>
    <td class="switch">-o</td>
    <td>
      Writes highlighted code to the file specified by the following parameter.
      Using this command has exactly the same effect as redirecting standard
      output to a file. This command should not be combined with either
      <code>--output-stdout</code> or <code>--output-clipboard</code>.
    </td>
  </tr>
  <tr>
    <td class="switch">--output-clipboard</td>
    <td class="switch">-w</td>
    <td>
      Writes highlighted code to the clipboard. All output is stored as Unicode
      and complete XHTML documents have no charset information recorded in the
      file. Do not combine this command with either <code>--output-stdout</code>
      or <code>--output-file</code>.
    </td>
  </tr>
  <tr>
    <td class="switch">--doc-type</td>
    <td class="switch">-d</td>
    <td>
      Determines the type of document to be output. The required document type
      is specified in the following parameter which must be one of these values:
      <ul class="squashed">
        <li>
          <code>xhtml</code>: Complete XHTML document containing highlighted
          source code (the default).
        </li>
        <li>
          <code>xhtml-fragment</code>: An XHTML code fragment containing only
          the highlighted code wrapped in <code>&lt;pre&gt;</code> ...
          <code>&lt;/pre&gt;</code> tags. Various commands that relate only to
          complete XHTML documents are ignored when this option is used.
        </li>
    </td>
  </tr>
  <tr>
    <td class="switch">--branding</td>
    <td class="switch">-b</td>
    <td>
      Switches on or off the inclusion of an HTML comment in code fragments that
      declares that the fragment was generated by <em>PasHi</em>.<br />
      In the case of <code>--branding</code>, the following parameter determines
      whether branding is switched on or off. The parameter must be one of:
      <ul class="squashed">
        <li>
          <code>True</code>, <code>1</code>, <code>Y</code>, <code>yes</code> or
          <code>on</code>:
          Include branding (the default).
        </li>
        <li>
          <code>False</code>, <code>0</code>, <code>N</code>, <code>no</code> or
          <code>off</code>:
          Exclude branding.
        </li>
      </ul>
      The short form of the command, <code>-b</code>, acts as a switch:
      <code>-b+</code> and <code>-b1</code> include branding while
      <code>-b-</code> and <code>-b0</code> exclude it.<br />
      This command only has any effect when used in combination with
      <code>--doc-type&nbsp;xhtml-fragment</code>.
    </td>
  </tr>
  <tr>
    <td class="switch">--language</td>
    <td class="switch">-l</td>
    <td>
      Specifies the language used in the output document. A language code
      recognised by HTML must be provided in the parameter that immediately
      follows this command. The code is not checked. If this command is not
      supplied then no language information is included in the output file.
      This command is ignored if the <code>--doc-type&nbsp;xhtml-fragment</code>
      command is specifed.
    </td>
  </tr>
  <tr>
    <td class="switch">--language-neutral</td>
    <td class="switch">&nbsp;</td>
    <td>
      Specifies that no language is to be specified in output document. Since
      this is the default behaviour this command is provided mainly to restore
      default behaviour if it has been overridden in the config file. This
      command is ignored if the <code>--doc-type&nbsp;xhtml-fragment</code>
      command is specifed.
    </td>
  </tr>
  <tr>
    <td class="switch">--title</td>
    <td class="switch">-t</td>
    <td>
      Specifies the title of the output document. The required title must be
      supplied in the parameter immediately follow the command. Titles
      containing spaces must be enclosed in double quotes. This command has no
      effect if the <code>--doc-type&nbsp;xhtml-fragment</code> command is also
      used.
    </td>
  </tr>
  <tr>
    <td class="switch">--title-default</td>
    <td class="switch">&nbsp;</td>
    <td>
      Specifies that the default title is to be used in the output document.
      Since this is the default behaviour this command is provided mainly to
      restore default behaviour if it has been overridden in the config file.
      This command has no effect if the
      <code>--doc-type&nbsp;xhtml-fragment</code> command is also used.
    </td>
  </tr>
  <tr>
    <td class="switch">--embed-css</td>
    <td class="switch">-s</td>
    <td>
      Creates an embedded CSS style sheet in the output document. The CSS is
      read from the file whose name is specified by the parameter immediately
      following the command. The CSS must define the styles described
      <a href="#css">below</a>. This command is ignored if the
      <code>--doc-type&nbsp;xhtml-fragment</code> command is also specified.
      <br />
      If a file name is specified with no path information, e.g. delphi2006.css,
      then the file will be expected to be in %AppData%\DelphiDabbler\PasHi. To
      read a file from the working directory, prepend .\ to it, e.g.
      .\delphi2006.css.
    </td>
  </tr>
  <tr>
    <td class="switch">--link-css</td>
    <td class="switch">-k</td>
    <td>
      Specifies the URL of an external CSS file to be linked from the generated
      XHTML file. The URL must be given in the parameter immediately following
      this command. The URL can be relative or absolute. The linked CSS file
      must define the styles described <a href="#css">below</a>. This command is
      ignored if the <code>--doc-type&nbsp;xhtml-fragment</code> command is also
      specified. Since no CSS is embedded in the output file the
      <code>--hide-css</code> command does nothing.
    </td>
  </tr>
  <tr>
    <td class="switch">--default-css</td>
    <td class="switch">&nbsp;</td>
    <td>
      Specifies that the default style sheet is to be embedded in the output
      document. Since this is the default behaviour, this command is provided
      mainly to restore default behaviour if it has been overridden in the
      config file. The command negates both the <code>--embed-css</code> and
      <code>--link-css</code> commands. This command is ignored if the
      <code>--doc-type&nbsp;xhtml-fragment</code> command is also specified.
    </td>
  </tr>
  <tr>
    <td class="switch">--hide-css</td>
    <td class="switch">-c</td>
    <td>
      Determines if the CSS code embedded in a <code>&lt;style&gt;</code> tag is
      wrapped in HTML comment tags (<code>&lt;!--</code> ...
      <code>--&gt;</code>). This command is provided because some older browsers
      will render the CSS as text unless it is enclosed in comment tags.<br />
      In the case of <code>--hide-css</code> the parameter following the command
      determines whether the CSS is hidden in comments or not. This parameter
      must be one of the following:
      <ul class="squashed">
        <li>
          <code>True</code>, <code>1</code>, <code>Y</code>, <code>yes</code> or
          <code>on</code>:
          Hide the CSS in comments.
        </li>
        <li>
          <code>False</code>, <code>0</code>, <code>N</code>, <code>no</code> or
          <code>off</code>:
          Do not use comments (the default).
        </li>
      </ul>
      The short form of the command, <code>-c</code>, acts as a switch.
      <code>-c+</code> and <code>-c1</code> hide the CSS in comments while
      <code>-c-</code> and <code>-c0</code> do not.<br />
      <code>--hide-css</code> is ignored when either the
      <code>--doc-type&nbsp;xhtml-fragment</code> or <code>--link-css</code>
      commands are used.
    </td>
  </tr>
  <tr>
    <td class="switch">--legacy-css</td>
    <td class="switch">&nbsp;</td>
    <td>
      Determines whether CSS classes in generated XHTML documents revert to
      those used in <em>PasHi</em> v1 (legacy) or whether the new class names
      introduced in <em>PasHi</em> v2 are used. The next parameter must have one
      of the following values:
      <ul class="squashed">
        <li>
          <code>True</code>, <code>1</code>, <code>Y</code>, <code>yes</code> or
          <code>on</code>:
          Use legacy (<em>PasHi</em> v1 style class names.
        </li>
        <li>
          <code>False</code>, <code>0</code>, <code>N</code>, <code>no</code> or
          <code>off</code>:
          Use new CSS class names (the default).
        </li>
      </ul>
      When using the <code>--embed-css</code> or <code>--link-css</code> you
      should be careful to ensure that the class names in the CSS file you are
      embedding or linking provides the correct class names.<br />
      This command is provided mainly when you are committed to using the old
      CSS style names.
    </td>
  </tr>
  <tr>
    <td class="switch">--encoding</td>
    <td class="switch">-e</td>
    <td>
      Sets the character encoding used for output to the encoding specified in
      next parameter. XHTML documents are marked with the chosen format and the
      resulting file may include byte order marks. This command is ignored if
      the <code>--output-clipboard</code> command is specified, because data is
      always written to the clipboard in Unicode. Valid encoding parameters are:
      <ul class="squashed">
        <li>
          <code>utf-8</code> or <code>utf8</code>: Encodes in Unicode using
          UTF-8 format with byte order mark (the default).
        </li>
        <li>
          <code>utf-16</code>, <code>utf16</code> or <code>unicode</code>:
          Encodes in Unicode using UTF-16, little endian format with byte order
          mark.
        </li>
        <li>
          <code>windows-1252</code>, <code>windows1252</code>,
          <code>latin-1</code> or <code>latin1</code>: Encodes in Windows-1252
          format.
        </li>
        <li>
          <code>iso-8859-1</code>: Encodes in ISO-8859-1 format.
        </li>
      </ul>
    </td>
  </tr>
  <tr>
    <td class="switch">--trim</td>
    <td class="switch">-m</td>
    <td>
      Determines if source code is trimmed of leading and trailing blank lines
      before highlighting. Multiple source files are trimmed individually before
      concatenation.<br />
      In the case of <code>--trim</code> the following parameter is used to
      turn trimming on or off as follows:
      <ul class="squashed">
        <li>
          <code>True</code>, <code>1</code>, <code>Y</code>, <code>yes</code> or
          <code>on</code>:
          Source code is trimmed (the default).
        </li>
        <li>
          <code>False</code>, <code>0</code>, <code>N</code>, <code>no</code> or
          <code>off</code>:
          Source code is not trimmed.
        </li>
      </ul>
      The short form of the command, <code>-m</code>, acts as a switch:
      <code>-m+</code> and <code>-m1</code> switch trimming on while
      <code>-m-</code> and <code>-m0</code> switch it off.
    </td>
  </tr>
  <tr>
    <td class="switch">--separator-lines</td>
    <td class="switch">&nbsp;</td>
    <td>
      Specifies the number of blank lines to leave between source code coming
      from each source file. This command is ignored unless more than file is
      specified on the command line. The required number of lines is given in
      the following parameter and must be in the range 0..16. The default value
      is 1.
    </td>
  </tr>
  <tr>
    <td class="switch">--verbosity</td>
    <td class="switch">&nbsp;</td>
    <td>
      Determines that amount of output PasHi writes to standard error while
      executing. What is output depends on the value of the following parameter,
      which must be one of:
      <ul class="squashed">
        <li>
          <code>normal</code>: Normal screen output (the default). This causes
          the program to display sign-on information and to display a message
          when the program completes. All output goes to standard error so that
          it does not affect highlighted source code written to standard output.
          Any error messages are also written to standard error.
        </li>
        <li>
          <code>quiet</code>: Quiet mode. Displays no sign on or completion
          message. If the program detects errors or if the <code>--help</code>
          command is used then this option is ignored and the program acts as
          if the <code>normal</code> parameter had been specified.
        </li>
      </ul>
    </td>
  </tr>
  <tr>
    <td class="switch">--quiet</td>
    <td class="switch">-q</td>
    <td>
      Alias for the <code>--verbosity&nbsp;quiet</code> command.
    </td>
  </tr>
  <tr>
    <td class="switch">--help</td>
    <td class="switch">-h</td>
    <td>
      Displays a help screen. The remainder of the command line is ignored.
    </td>
  </tr>
</table>

<p>
  There are some commands inherited from <em>PasHi</em> v1 that are not listed
  above. They have now been superceded by other commands. They are:
</p>

<table>
  <cols>
    <col style="width:10em;" />
  </cols>
  <tr>
    <th>
      Old command
    </th>
    <th>
      Purpose
    </th>
  <tr>
  <tr>
    <td class="switch">-rc</td>
    <td>
      Alias for the <code>--input-clipboard</code> command.
    </td>
  </tr>
  <tr>
    <td class="switch">-wc</td>
    <td>
      Alias for the <code>--output-clipboard</code> command.
    </td>
  </tr>
  <tr>
    <td class="switch">-frag</td>
    <td>
      Alias for the <code>--doc-type&nbsp;xhtml-fragment</code> command.
    </td>
  </tr>
  <tr>
    <td class="switch">-hidecss</td>
    <td>
      Alias for <code>-c+</code> or the <code>--hide-css&nbsp;yes</code>
      command.
    </td>
  </tr>
</table>

<p>
  <em>PasHi</em> takes text files as input. It checks any byte order mark (BOM)
  to check for any Unicode encoding used for the file. Supported encodings are:
  UTF-8, UTF-16 little endian and UTF-16 big endian. If there is no BOM then the
  file is assumed to be encoded in the user's default code page. UCS-4 can in
  theory be output by Delphi, but this format is not supported. If the
  <code>--input-clipboard</code> command is used then the input format is
  Unicode.
</p>

<p>
  If <em>PasHi</em> exits normally then 0 is returned to the OS as an exit
  code. In case of error the exit code is 1.
</p>

<p>
  Perhaps the most common usage of <em>PasHi</em> is to read source code from
  the clipboard and replace it with a highlighted fragment. Here's what I do
  when pasting highlighted source into a web page:
</p>

<ol>
  <li>
    Select the unformatted source in an editor and copy it to the clipboard.
  </li>
  <li>
    Switch to a command window and do
    <pre
      class="indent"
      style="margin-top:0;margin-bottom:0;"
    >PasHi --input-clipboard --output-clipboard --doc-type xhtml-fragment</pre>
    Alternatively you can use short forms or v1 commands to shorten this:
    <pre
      class="indent"
      style="margin-top:0;margin-bottom:0;"
    >PasHi -r -w -d xhtml-fragment</pre>
    or
    <pre
      class="indent"
      style="margin-top:0;margin-bottom:0;"
    >PasHi -rc -wc -frag</pre>
  </li>
  <li>
    Switch to the editor containing the web page and paste in the
    highlighted code.
  </li>
</ol>

<p>
  If you mainly use <em>PasHi</em> in this way you can configure <em>PasHi</em>
  to use those parameters by default. See <a
    href="#config"
  >Configuring <em>PasHi</em></a> for details.
</p>

<p class="gototop">
  &raquo; <a href="#contents">Contents</a>
</p>

<h2 id="config">
  Configuring <em>PasHi</em>
</h2>

<p>
  <em>PasHi</em> reads the <code>config</code> file in the
  <code>%AppData%\DelphiDabbler\PasHi</code> directory when it starts up. Any
  commands it finds in that file can be used to change the program's default
  state.
</p>

<p>
  You can edit <code>config</code> as required. The format of the file is as
  follows:
</p>

<ul class="spaced">
  <li>
    Each command is listed on its own line.
  </li>
  <li>
    Where a command takes a parameter the parameter should be placed on the same
    line as the command, separated from it by one or more spaces. Parameters
    containing spaces should not be quoted (unlike on the command line).
  </li>
  <li>
    All the long form command listed in <a
      href="#usage"
    >Using <em>PasHi</em></a> have an equivalent in the config file. Config
    commands have the same name as the long form version except that the leading
    &quot;--&quot; characters are omitted.
  </li>
  <li>
    Lines begining with &quot;#&quot; are treated as comments and ignored.
  </li>
  <li>
    Leading and trailing spaces are ignored.
  </li>
</ul>

<p>
  PasHi expects <code>config</code> to be a UTF-8 encoded text file. The UTF-8
  byte order mark may be omitted from the start of the file if required. If your
  text editor does not support UTF-8, confine yourself to valid ASCII characters
  and all will be well.
</p>

<p>
  The default <code>config</code> file installed with <em>PasHi</em> does
  nothing but is copiously commented and includes all possible commands. To make
  changes simply add the required commands to the file.
</p>

<p>
  As mentioned in <a
    href="#usage"
  >Using <em>PasHi</em></a>, a common use for <em>PasHi</em> is to highlight
  source code from the clipboard as an XHTML fragment and place that back on the
  clipboard. Instead of using the necessary commands each time you run
  <em>PasHi</em> you can add the following commands to the config file:
</p>

<pre class="indent">input-clipboard
output-clipboard
doc-type xhtml-fragment</pre>

<p>
  Now all you need to do is enter:
</p>

<pre class="indent">PasHi</pre>

<p>
  on its own on the command line and it will perform the required actions by
  default. Be warned that if you do this, you will need to use the
  <code>--input-stdin</code>, <code>--output-stdout</code> and
  <code>--doc-type xhtml</code> commands to revert to normal behaviour.
</p>

<p>
  Another useful example is if you provide your own CSS file containing your
  desired highlighting style that you always want to use. To save you having
  to specify this file on the command line each time, simply put a suitable
  command in <code>config</code>, for example, to embed CSS use:
</p>

<pre class="indent">embed-css C:\CSS\pascal-hilite.css</pre>

<p>
  or to link to your CSS file on the net:
</p>

<pre class="indent">link-css http://example.com/css/pascal-hilite.css</pre>

<h2 id="css">
  CSS styles used by <em>PasHi</em>
</h2>

<p>
  All the highlighted HTML generated by <em>PasHi</em> is enclosed in a
  <code>&lt;pre&gt;</code> block that is given the class
  <code>.code-pascal</code>. CSS should be provided for this class that
  specifies the name (family) and size of the required font. You can also set
  the background colour, border etc. using this class.
</p>

<p>
  <em>PasHi</em> encloses every syntactic element within the
  <code>&lt;pre&gt;</code> block in <code>&lt;span&gt;</code> tags. Each of
  these tags is given a class name relating to the type of the element. CSS
  defining the font style &amp; weight, text decoration and colour for each
  class should be provided. These classes are:
<dl>
    <dt class="css">
      .comment
    </dt>
    <dd>
      Style for comments.
    </dd>
    <dt class="css">
      .kwd
    </dt>
    <dd>
      Style for keywords and reserved words.
    </dd>
    <dt class="css">
      .ident
    </dt>
    <dd>
      Style for non-keyword identifiers.
    </dd>
    <dt class="css">
      .sym
    </dt>
    <dd>
      Style for symbols (e.g <code>:=</code> and <code>&gt;</code>).
    </dd>
    <dt class="css">
      .str
    </dt>
    <dd>
      Style for string literals.
    </dd>
    <dt class="css">
      .num
    </dt>
    <dd>
      Style for whole numbers (integers).
    </dd>
    <dt class="css">
      .float
    </dt>
    <dd>
      Style for floating point numbers.
    </dd>
    <dt class="css">
      .hex
    </dt>
    <dd>
      Style for hexadecimal numbers.
    </dd>
    <dt class="css">
      .preproc
    </dt>
    <dd>
      Style for preprocessor directives.
    </dd>
    <dt class="css">
      .asm
    </dt>
    <dd>
      Style for assembler.
    </dd>
    <dt class="css">
      .space
    </dt>
    <dd>
      Style for whitespace.
    </dd>
    <dt class="css">
      .err
    </dt>
    <dd>
      Style for any errors detected.
    </dd>
</dl>

<p>
  The element CSS classes should be defined as children of
  <code>.code-pascal</code> to avoid potential clashes with other similarly
  named styles in an HTML document.
</p>

<p>
  Whenever you need to define your own CSS style sheets to use with files
  generated by <em>PasHi</em> you must provide definitions for all the above
  styles. You will need your own CSS if you:
</p>

<ul>
  <li>
    Embed your own styles in the output XHTML document using the
    <code>--embed-css</code> switch.
  </li>
  <li>
    Link to an external style sheet from the output document using the
    <code>--link-css</code> switch.
  </li>
  <li>
    Include a code fragment generated by the
    <code>--doc-type&nbsp;xhtml-fragment</code> command in another HTML file.
  </li>
</ul>

<p>
  To help with this, here are the default definitions for the classes that are
  used by <em>PasHi</em>:
</p>

<pre class="block">.code-pascal {
    font-family: "Courier New", monospace;
    font-size: 9pt;
}
.code-pascal .comment {
    font-style: italic;
    font-weight: normal;
    text-decoration: none;
    color: #000080;
}
.code-pascal .kwd {
    font-style: normal;
    font-weight: bold;
    text-decoration: none;
}
.code-pascal .str {
    font-style: normal;
    font-weight: normal;
    text-decoration: none;
    color: #800080;
}
.code-pascal .num,
.code-pascal .float,
.code-pascal .hex {
    font-style: normal;
    font-weight: normal;
    text-decoration: none;
    color: #800000;
}
.code-pascal .preproc {
    font-style: normal;
    font-weight: normal;
    text-decoration: none;
    color: #008000;
}
.code-pascal .asm {
    font-style: italic;
    font-weight: normal;
    text-decoration: none;
}
.code-pascal .err {
    font-style: normal;
    font-weight: normal;
    text-decoration: none;
    color: #FF0000;
}
.code-pascal .sym,
.code-pascal .space,
.code-pascal .ident {
}</pre>

<p>
  Change the styles to suit your needs.
</p>

<p class="pullout">
  Note that <em>PasHi</em> v1.x and earlier used different CSS class names.
  <code>code-pascal</code> was named <code>pas-source</code> while the remaining
  classes had <code>pas-</code> prepended to the class name, for example
  <code>.kwd</code> was <code>.pas-kwd</code>. If you want <em>PasHi</em> to
  revert to using the old style names pass
  &quot;<code>--legacy-css&nbsp;on</code>&quot; on the command line or place
  &quot;<code>legacy-css&nbsp;on</code>&quot; in the <code>config</code> file if
  you want to use the old style names by default.
</p>

<p class="gototop">
  &raquo; <a href="#contents">Contents</a>
</p>

<h2 id="pashigui">
  Using <em>PasHiGUI</em>
</h2>

<p>
  <em>PasHiGUI</em> is very simple and pretty straightforward. A brief
  explanation of the commands and main display should suffice.
</p>

<h3>
  Commands
</h3>

<dl class="spaced">
  <dt>
    File | Open
  </dt>
  <dd>
    Opens one or more source files for highlighting. Multiple files are combined
    before highlighting.
  </dd>
  <dt>
    File | Save
  </dt>
  <dd>
    Saves highlighted code as XTHML to a file. The file can be saved with
    either .html or .txt extensions.
  </dd>
  <dt>
    File | Exit
  </dt>
  <dd>
    Quits the program.
  </dd>
  <dt>
    Edit | Copy
  </dt>
  <dd>
    Copies highlighted code to the clipboard as XHTML in text format.
  </dd>
  <dt>
    Edit | Paste
  </dt>
  <dd>
    Attempts to highlight any text on the clipboard: it assumes it is source
    code.
  </dd>
  <dt>
    Options | Generate Fragment
  </dt>
  <dd>
    When this option is set an HTML fragment is generated instead of a
    complete XHTML document. For more information see the documentation of
    <em>PasHi</em>'s <code>--doc-type xhtml-fragment</code> command.
  </dd>
  <dt>
    Options | Show Hints
  </dt>
  <dd>
    Determines whether help hints are displayed in the status bar as the
    mouse moves over menus and other parts of the interface. Turn this on
    if you want to be reminded of a command etc.
  </dd>
  <dt>
    Help | About
  </dt>
  <dd>
    Displays the About Box. Useful to find the version number of the
    program.
  </dd>
</dl>

<h3>
  Drag and drop
</h3>

<p>
  <em>PasHiGUI</em> supports the following drag and drop operations as a means
  of inputing source code to be highlighted:
</p>

<ul class="spaced">
  <li>
    Drag and drop one or more file names from Windows Explorer: this opens the
    dropped file(s). Folders are ignored.
  </li>
  <li>
    Drag and drop selected text from a suitable text editor: the selected text
    is highlighted and is assumed to be valid Pascal source code.
  </li>
</ul>

<h3>
  Main Display
</h3>

<p>
  There are two display tabs each of which render the generated XHTML in a
  different way:
</p>

<dl class="spaced">
  <dt>
    Display View
  </dt>
  <dd>
    Renders the XHTML as it will appear in a browser. If the generated code
    is a complete document it is displayed as-is. If it is a fragment the code
    is displayed in a yellow box.
  </dd>
  <dt>
    HTML View
  </dt>
  <dd>
    Displays the generated XHTML source code.
  </dd>
</dl>

<h3>
  Dependencies
</h3>

<p>
  <em>PasHiGUI</em> is designed as a front end for <em>PasHi</em> and therefore
  will not work unless a suitable version of <em>PasHi</em> is installed and
  accessible. The best solution is to use the correct install program which
  places <em>PasHiHUI</em> and <em>PasHi</em> in the same directory.
</p>

<p>
  The version of <em>PasHi</em> being used must be v2 or later. If you used the
  installer <em>PasHi</em> will be the correct version.
</p>

<p class="gototop">
  &raquo; <a href="#contents">Contents</a>
</p>

<h2 id="bugs">
  Bugs &amp; Feature Requests
</h2>

<p>
  Please do report bugs and request new features. To do this please use the <a
    href="http://www.delphidabbler.com/url/pashi-issues"
  >issue tracker</a>. Do review any existing reports before raising a new
  issue.
</p>

<p class="gototop">
  &raquo; <a href="#contents">Contents</a>
</p>

<h2 id="source">
  Source code
</h2>

<p>
  The source code for <em>PasHi</em> and <em>PasHiGUI</em> is hosted in
  Subversion repository on GoogleCode. The repository can be viewed at <a
    href="http://code.google.com/p/pas-hi/source/browse/"
  >http://code.google.com/p/pas-hi/source/browse/</a>.
</p>

<p>
  Zip files containing source code is hosted on the project's GoogleCode <a
    href="http://code.google.com/p/pas-hi/downloads/list"
  >download tab</a>.
</p>

<p>
  Finally, the latest release of the source code is always available via the
  <a
    href="http://www.delphidabbler.com/software/pash"
  ><em>PasHi</em> home page</a>.
</p>

<p>
  You will find a file named <code>Build.html</code> in the root directory of
  each source code distribution that explains how to build the programs.
</p>

<div class="endnotes">

  <div class="comments">
    If you have any comments about this program please get in touch via my
    <a
      href="http://www.delphidabbler.com/contact"
    >website</a>. But do please use the <strong>issue tracker</strong>
    mentioned above to report bugs rather than contacting me direct.
  </div>

  <div class="copyright">
    <em>PasHi</em>'s license is available
    <a
      href="http://www.delphidabbler.com/software/pash/license"
    >here</a>.<br />
    This document is copyright &copy; 2005-2012, P D Johnson,
    <a
      href="http://www.delphidabbler.com/"
    >www.delphidabbler.com</a>
  </div>

</div>

</body>

</html>
